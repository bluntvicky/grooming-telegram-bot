# Телеграм-бот для груминг-салона

Этот бот позволяет клиентам просматривать услуги груминг-салона, доступные слоты времени для записи, записываться на обслуживание, а также оставлять и просматривать отзывы. Администраторы могут управлять временными слотами, услугами и отзывами.

## Функциональность

### Для клиентов:
1. Просмотр услуг и цен
2. Просмотр доступных слотов времени для записи
3. Запись на услуги груминга (с указанием контактной информации и информации о питомце)
4. Просмотр и добавление отзывов (с возможностью прикрепления фотографий)
5. Автоматические напоминания о записи за 1.5 часа до начала

### Для администраторов:
1. Добавление временных слотов для записи
2. Управление записями (подтверждение/отмена)
3. Модерация отзывов
4. Добавление и редактирование услуг

## Технический стек

- Node.js
- Telegraf.js (для работы с Telegram Bot API)
- MongoDB (для хранения данных)
- Mongoose (для работы с MongoDB)
- Node Schedule (для планирования напоминаний)

## Установка и запуск

### Предварительные требования:
- Node.js (версия 16 или выше)
- MongoDB (локальный или удаленный экземпляр)

### Шаги по установке:

1. **Клонирование репозитория**
```bash
git clone <url-репозитория>
cd grooming-telegram-bot
```

2. **Установка зависимостей**
```bash
npm install
```

3. **Настройка переменных окружения**
Скопируйте файл `.env.example` в `.env` и заполните необходимые значения:
```bash
cp .env.example .env
```

Отредактируйте файл `.env`:
```
# Telegram Bot Token (получите у @BotFather)
TELEGRAM_TOKEN=your_telegram_bot_token

# MongoDB URI (для хранения данных)
MONGO_URI=mongodb://localhost:27017/groomingBot

# Администраторы бота (список ID пользователей Telegram через запятую)
ADMIN_IDS=123456789,987654321
```

4. **Запуск бота**
```bash
# Запуск в режиме разработки (с nodemon)
npm run dev

# Запуск в производственном режиме
npm start
```

## Архитектура проекта

```
src/
├── controllers/      # Обработчики команд и действий
├── middleware/       # Промежуточные обработчики
├── models/           # Модели данных MongoDB
├── scenes/           # Сцены (для сложных взаимодействий)
├── utils/            # Вспомогательные функции
└── index.js          # Точка входа
```

## Получение Telegram Bot Token

1. Найдите @BotFather в Telegram
2. Отправьте команду `/newbot`
3. Следуйте инструкциям для создания нового бота
4. Скопируйте полученный токен в файл `.env`

## Получение ID администраторов

Для получения Telegram ID:
1. Найдите @userinfobot в Telegram
2. Отправьте любое сообщение боту
3. Бот вернет информацию о вашем аккаунте, включая ID
4. Добавьте ID в список ADMIN_IDS в файле `.env`

## Лицензия

MIT 